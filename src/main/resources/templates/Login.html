<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Iniciar Sesión</title>
    <link rel="stylesheet" href="/Css/Todo.Css" th:href="@{/Css/Todo.Css}">
</head>
<body>
<div class="container">
    <h1>Bienvenido</h1>
    <p>Inicia sesión para continuar</p>

    <!-- Mostrar mensaje de error si el login falla -->
    <div th:if="${param.error}" class="error-message">
        Usuario o contraseña incorrectos
    </div>

    <!-- Mostrar mensaje si se cerró sesión correctamente -->
    <div th:if="${param.logout}" class="error-message" style="color: green;">
        Sesión cerrada correctamente
    </div>

    <!-- Formulario login normal -->
    <form th:action="@{/auth/login}" method="post" style="margin-bottom: 1.5rem;">
        <input type="text" name="username" placeholder="Correo" required />
        <input type="password" name="password" placeholder="Contraseña" required />
        <button type="submit" class="btn btn-login">Iniciar sesión</button>
    </form>

    <div class="buttons">
        <!-- Botón login con Google -->
        <a href="/oauth2/authorization/google" class="btn btn-google">
            <img src="https://developers.google.com/identity/images/g-logo.png" alt="Google" style="width:20px;vertical-align:middle;margin-right:8px;">
            Continuar con Google
        </a>
    </div>

    <p style="margin-top: 1.5rem;">
        ¿No tienes cuenta? <a th:href="@{/auth/sign_up}">Regístrate aquí</a>
    </p>
</div>
</body>
</html>